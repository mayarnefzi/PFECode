<!-- Start Welcome area -->
<div class="all-content-wrapper" style="margin-top: 60px; margin-left: 30px">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="logo-pro">
          <a href="index.html"
            ><img class="main-logo" src="img/logo/logo.png" alt=""
          /></a>
        </div>
      </div>
    </div>
  </div>
  <app-navbar-admin></app-navbar-admin>

  <!--- here testing code -->
  <div
    class="breadcome-area"
    style="height: 70px; margin-left: -0.8%; margin-right: 0.9%"
  >
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="breadcome-list single-page-breadcome">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"></div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <ul class="breadcome-menu">
                  <li>
                    <span class="bread-blod"
                      >Acceuil / Liste Utilisateurs
                    </span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="product-status mg-b-15">
    <div class="container-fluid">
      <div class="row">
        <div
          class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
          style="margin-left: -0.8%"
        >
          <div class="product-status-wrap drp-lst">
            <h4 style="margin-bottom: 35px">Liste des utilisateurs</h4>
            <div class="add-product">
              <a
                class="Primary mg-b-10"
                href="#"
                style="background-color: #34baa1"
                data-toggle="modal"
                data-target="#AddUserModal"
                >Ajouter un utilisateur</a
              >
            </div>
            <div class="asset-inner">
              <table>
                <tr>
                  <th>Nom</th>
                  <th>Email</th>
                  <th>Profil</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let user of users">
                  <td>{{ user.nom }} {{ user.prenom }}</td>
                  <td>{{ user.email }}</td>
                  <td>
                    <span
                      [ngClass]="{
                        'badge badge-danger': user.profil === 'user',
                        'badge badge-primary': user.profil === 'ingénieur',
                        'badge badge-warning': user.profil === 'directeur',
                        'badge badge-success': user.profil === 'manager',
                        'badge badge-info': user.profil === 'financier'
                      }"
                      style="font-size: 15px"
                    >
                      {{
                        user.profil.charAt(0).toUpperCase() +
                          user.profil.slice(1).toLowerCase()
                      }}
                    </span>
                  </td>
                  <td>
                    <button
                      data-toggle="tooltip"
                      title="Modifier"
                      class="pd-setting-ed"
                      data-toggle="modal"
                      data-target="#EditUserModal"
                      (click)="editUser(user)"
                    >
                      <i
                        class="fa fa-pencil-square-o bg-success"
                        aria-hidden="true"
                      ></i>
                    </button>
                    <button
                      data-toggle="tooltip"
                      title="Supprimer"
                      class="pd-setting-ed"
                      (click)="blockUser(user.id)"
                    >
                      <i class="fa fa-ban bg-danger" aria-hidden="true"></i>
                    </button>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer-copyright-area">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="footer-copy-right">
            <p>
              Copyright © 2018. All rights reserved. Template by
              <a href="https://colorlib.com/wp/templates/">Colorlib</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add User Modal -->
<div
  id="AddUserModal"
  class="modal modal-edu-general default-popup-PrimaryModal fade"
  role="dialog"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-close-area modal-close-df">
        <a class="close" data-dismiss="modal" href="#">
          <i class="fa fa-close"></i>
        </a>
      </div>
      <div class="modal-body">
        <h3>Add User</h3>
        <div class="product-tab-list tab-pane fade active in" id="description">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="review-content-section">
                <div id="dropzone1" class="pro-ad">
                  <form
                    class="dropzone dropzone-custom needsclick add-professors"
                    id="demo1-upload"
                    (submit)="addAccount()"
                  >
                    <div class="row">
                      <div class="col-lg-12 col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                          <input
                            name="nom"
                            [(ngModel)]="newUser.nom"
                            type="text"
                            class="form-control"
                            placeholder="First Name"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="prenom"
                            [(ngModel)]="newUser.prenom"
                            type="text"
                            class="form-control"
                            placeholder="Last Name"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="email"
                            [(ngModel)]="newUser.email"
                            type="email"
                            class="form-control"
                            placeholder="Email"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="password"
                            [(ngModel)]="newUser.password"
                            type="password"
                            class="form-control"
                            placeholder="Password"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <select
                            name="profil"
                            [(ngModel)]="newUser.profil"
                            class="form-control"
                          >
                            <option value="ingénieur">Ingénieur Radio</option>
                            <option value="directeur">Directeur</option>
                            <option value="manager">Manager</option>
                            <option value="financier">Financier</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <button
                      type="submit"
                      class="btn btn-success waves-effect waves-light"
                    >
                      Add
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <a data-dismiss="modal" href="#">Close</a>
      </div>
    </div>
  </div>
</div>

<!-- Edit User Modal -->
<div
  id="EditUserModal"
  class="modal modal-edu-general default-popup-PrimaryModal fade"
  role="dialog"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-close-area modal-close-df">
        <a class="close" data-dismiss="modal" href="#">
          <i class="fa fa-close"></i>
        </a>
      </div>
      <div class="modal-body">
        <h3>Modifier l'utilisateur</h3>
        <div class="product-tab-list tab-pane fade active in" id="description">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="review-content-section">
                <div id="dropzone1" class="pro-ad">
                  <form
                    class="dropzone dropzone-custom needsclick add-professors"
                    id="edit-user-form"
                  >
                    <div class="row">
                      <div class="col-lg-12 col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                          <input
                            name="nom"
                            [(ngModel)]="editUserData.nom"
                            type="text"
                            class="form-control"
                            placeholder="Nom"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="prenom"
                            [(ngModel)]="editUserData.prenom"
                            type="text"
                            class="form-control"
                            placeholder="Prénom"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="email"
                            [(ngModel)]="editUserData.email"
                            type="email"
                            class="form-control"
                            placeholder="Email"
                            required
                          />
                        </div>
                        <div class="form-group">
                          <input
                            name="password"
                            [(ngModel)]="editUserData.password"
                            type="password"
                            class="form-control"
                            placeholder="Mot de passe"
                          />
                        </div>
                        <div class="form-group">
                          <select
                            name="profil"
                            [(ngModel)]="editUserData.profil"
                            class="form-control"
                            required
                          >
                            <option value="" disabled>
                              Sélectionner un profil
                            </option>
                            <option value="user">User</option>
                            <option value="ingénieur">Ingénieur</option>
                            <option value="directeur">Directeur</option>
                            <option value="manager">Manager</option>
                            <option value="financier">Financier</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="text-center">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="onEditUser()"
                      >
                        Enregistrer
                      </button>
                      <button
                        type="reset"
                        class="btn btn-default"
                        data-dismiss="modal"
                      >
                        Annuler
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
